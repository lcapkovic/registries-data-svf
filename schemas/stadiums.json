{
	"$schema": "http://json-schema.org/schema#",
	"id": "uri://registries/stadiums#",

	"blocks":{
		"baseData":{
				"title": "Základné údaje o športovom objekte",
				"type": "object",
				"properties": {
					"name": {
						"title": "Názov športového objektu",
						"type": "string",
						"required": true
					},
					"street": {
						"title": "Ulica",
						"type": "string",
						"required": false
					},
					"houseNumber": {
						"title": "Číslo domu",
						"type": "number",
						"required": false
					},
					"town": {
						"$ref":"uri://registries/towns#town"
					},
					"postcode": {
						"title": "PSČ",
						"type": "string",
						"required": false
					},
					"country": {
						"$ref":"uri://registries/countries#country"
					}
				}
			},
			"additionalData":{
				"title": "Doplňujúce údaje o športovom objekte",
				"type": "object",
				"properties": {
					"type": {
						"title": "Typ športového objektu",
						"type": "string",
						"required": false,
						"enum":[
							"hala",
							"ihrisko",
							"štadión"
						],
						"enumTransCodes":[
							"schema.stadium.type.hall",
							"schema.stadium.type.playground",
							"schema.stadium.type.stadium"
						],
						"render":{
							"component": "psui-selectbox",
							"searchable": true
						}
					},
					"surface": {
						"title": "Povrch",
						"type": "string",
						"required": false,
						"enum":[
							"prírodný",
							"umelý"
						],
						"enumTransCodes":[
							"schema.stadium.surface.natural",
							"schema.stadium.surface.artificial"
						],
						"render":{
							"component": "psui-selectbox",
							"searchable": true
						}
					},
					"overallCapacity": {
						"title": "Celková kapacita",
						"type": "number",
						"required": false
					},
					"numberOfSeats": {
						"title": "Kapacita na sedenie",
						"type": "number",
						"required": false
					},
					"capacityOfHostSector": {
						"title": "Kapacita sektoru hostí",
						"type": "number",
						"required": false
					},
					"sizeAndSuface": {
						"title": "Rozmery a povrch ihriska",
						"type": "string",
						"required": false
					},
					"VIPSeats": {
						"title": "VIP sedadlá",
						"type": "number",
						"required": false
					},
					"Illumination": {
						"title": "Osvetlenie (lux)",
						"type": "string",
						"required": false
					},
					"runningFrom": {
						"extends":"uri://registries/commontypes#blocks/date",
						"title": "V prevádzke od"
					},
					"dateOfLastIlluminationRevision": {
						"extends":"uri://registries/commontypes#blocks/date",
						"title": "Dátum poslednej revízie osvetlenia"

					},
					"dateOfLastElectricDeviceRevision": {
						"extends":"uri://registries/commontypes#blocks/date",
						"title": "Dátum poslednej revízie elektrických zariadení"
					},
					"dateOfSecurityCertificatePublication": {
						"extends":"uri://registries/commontypes#blocks/date",
						"title": "Dátum vydania bezpčnostného certifikátu"

					},
					"owner": {
						"title": "Vlastník",
						"type": "string",
						"required": false
					},
					"manager": {
						"title": "Manažér",
						"type": "string",
						"required": false
					},
					"managersContact": {
						"title": "Kontakt na manažéra",
						"type": "string",
						"required": false
					}
				}
			}
	},

	"models":{
		"stadiums":{
			"table" : "stadiums",
			"title" : "Športový objekt",
			"security": {
				"create": {
					"static": [
						"Security - write"
					]
				},
				"read": {
					"static": [
						"Security - read"
					]
				},
				"modify": {
					"static": [
						"Security - write"
					]
				}
			},
			"properties":{
				"baseData":{
					"extends":"uri://registries/stadiums#blocks/baseData"
				},
				"additionalData":{
					"extends":"uri://registries/stadiums#blocks/additionalData"
				}
			}
		}
	},

	"views":{
		"stadium":{
			"new":{
				"extends":"uri://registries/stadiums#models/stadiums"
			},
			"view":{
				"extends":"uri://registries/stadiums#models/stadiums"
			},
			"search":{
				"extends":"uri://registries/stadiums#models/stadiums",
				"listFields": [
					{"field":"baseData.name", "title":"Názov športového objektu"},
					{"field":"additionalData.overallCapacity", "title":"Celková kapacita"}
				]
			}
		}

	}
}
